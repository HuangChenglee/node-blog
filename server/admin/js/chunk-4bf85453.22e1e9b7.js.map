{"version":3,"sources":["webpack:///./src/views/articles/AddArticle.vue?0eac","webpack:///src/views/articles/AddArticle.vue","webpack:///./src/views/articles/AddArticle.vue?5ed0","webpack:///./src/views/articles/AddArticle.vue","webpack:///./src/views/articles/AddArticle.vue?2db4"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","ref","attrs","form","rules","span","on","$refs","title","onFieldBlur","model","value","callback","$$v","$set","expression","categories","_l","item","key","_id","_s","name","placeholder","offset","onSubmit","staticRenderFns","created","requestData","data","content","abstract","methods","e","preventDefault","Form","validate","valid","values","console","log","message","description","duration","res","components","quillEditor","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,UAAUF,EAAG,eAAe,CAACG,IAAI,OAAOC,MAAM,CAAC,MAAQR,EAAIS,KAAK,MAAQT,EAAIU,MAAM,YAAY,CAACC,KAAM,GAAG,cAAc,CAAEA,KAAM,MAAM,CAACP,EAAG,oBAAoB,CAACG,IAAI,QAAQC,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACJ,EAAG,UAAU,CAACQ,GAAG,CAAC,KAAO,WAAaZ,EAAIa,MAAMC,MAAMC,gBAAgBC,MAAM,CAACC,MAAOjB,EAAIS,KAAU,MAAES,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIS,KAAM,QAASU,IAAME,WAAW,iBAAiB,GAAGjB,EAAG,oBAAoB,CAACG,IAAI,aAAaC,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,cAAc,CAAEG,KAAM,KAAK,CAACP,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,YAAYI,GAAG,CAAC,KAAO,WAAaZ,EAAIa,MAAMS,WAAWP,gBAAgBC,MAAM,CAACC,MAAOjB,EAAIS,KAAe,WAAES,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIS,KAAM,aAAcU,IAAME,WAAW,oBAAoBrB,EAAIuB,GAAIvB,EAAc,YAAE,SAASwB,GAAM,OAAOpB,EAAG,kBAAkB,CAACqB,IAAID,EAAKE,IAAIlB,MAAM,CAAC,MAAQgB,EAAKE,MAAM,CAAC1B,EAAIM,GAAGN,EAAI2B,GAAGH,EAAKI,YAAW,IAAI,GAAGxB,EAAG,oBAAoB,CAACG,IAAI,WAAWC,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACJ,EAAG,aAAa,CAACI,MAAM,CAAC,YAAc,KAAK,KAAO,GAAGQ,MAAM,CAACC,MAAOjB,EAAIS,KAAa,SAAES,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIS,KAAM,WAAYU,IAAME,WAAW,oBAAoB,GAAGjB,EAAG,oBAAoB,CAACG,IAAI,UAAUC,MAAM,CAAC,MAAQ,KAAK,KAAO,YAAY,CAACJ,EAAG,eAAe,CAACI,MAAM,CAAC,QAAU,CACz1CqB,YAAa,eACZb,MAAM,CAACC,MAAOjB,EAAIS,KAAY,QAAES,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIS,KAAM,UAAWU,IAAME,WAAW,mBAAmB,GAAGjB,EAAG,oBAAoB,CAACI,MAAM,CAAC,cAAc,CAAEG,KAAM,GAAImB,OAAQ,KAAK,CAAC1B,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQZ,EAAI+B,WAAW,CAAC/B,EAAIM,GAAG,SAAS,IAAI,IAAI,IAC1S0B,EAAkB,G,oECyEtB,GACEC,QADF,WAEIhC,KAAKiC,eAEPC,KAJF,WAKI,MAAO,CACLb,WAAY,GACZb,KAAM,CACJK,MAAO,GACPsB,QAAS,GACTC,SAAU,GACVf,WAAY,IAEdZ,MAAO,CACLI,MAAO,CAAC,CAAhB,8CACQQ,WAAY,CAAC,CAArB,iDAIEgB,QAAS,CACPP,SADJ,SACA,cACMQ,EAAEC,iBACFvC,KAAKY,MAAM4B,KAAKC,UAAS,SAA/B,GACQ,GAAIC,EAAO,CACT,IAAV,GACY7B,MAAO,EAAnB,WACYQ,WAAY,EAAxB,gBACYc,QAAS,EAArB,aACYC,SAAU,EAAtB,eAGkC,KAApBO,EAAOP,WACTO,EAAOP,SAAWO,EAAO9B,OAG3B+B,QAAQC,IAAI,4BAA6BF,GACzC,OAAV,OAAU,CAAV,qBACY,EAAZ,uBACcG,QAAS,MACTC,YAAa,SACbC,SAAU,IAEZJ,QAAQC,IAAII,WAKpBhB,YA5BJ,WA4BA,WACM,OAAN,OAAM,GAAN,kBACQ,EAAR,kBAOEiB,WAAY,CACVC,YAAJ,mBCrImW,I,wBCQ/VC,EAAY,eACd,EACAtD,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E,kECnBf,yBAA2f,EAAG","file":"js/chunk-4bf85453.22e1e9b7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"新建文章\")]),_c('a-form-model',{ref:\"Form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-col\":{span: 3},\"wrapper-col\":{ span: 20}}},[_c('a-form-model-item',{ref:\"title\",attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('a-input',{on:{\"blur\":function () {_vm.$refs.title.onFieldBlur()}},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('a-form-model-item',{ref:\"categories\",attrs:{\"label\":\"分类\",\"prop\":\"categories\",\"wrapper-col\":{ span: 6}}},[_c('a-select',{attrs:{\"mode\":\"multiple\"},on:{\"blur\":function () {_vm.$refs.categories.onFieldBlur()}},model:{value:(_vm.form.categories),callback:function ($$v) {_vm.$set(_vm.form, \"categories\", $$v)},expression:\"form.categories\"}},_vm._l((_vm.categories),function(item){return _c('a-select-option',{key:item._id,attrs:{\"value\":item._id}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('a-form-model-item',{ref:\"abstract\",attrs:{\"label\":\"简介\",\"prop\":\"abstract\"}},[_c('a-textarea',{attrs:{\"placeholder\":\"简介\",\"rows\":4},model:{value:(_vm.form.abstract),callback:function ($$v) {_vm.$set(_vm.form, \"abstract\", $$v)},expression:\"form.abstract\"}})],1),_c('a-form-model-item',{ref:\"content\",attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('quill-editor',{attrs:{\"options\":{\n            placeholder: '开始编辑......'\n          }},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('a-form-model-item',{attrs:{\"wrapper-col\":{ span: 12, offset: 3}}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>新建文章</h1>\r\n\r\n    <a-form-model\r\n      ref=\"Form\"\r\n      :model=\"form\"\r\n      :rules=\"rules\"\r\n      :label-col=\"{span: 3}\"\r\n      :wrapper-col=\"{ span: 20}\"\r\n    >\r\n      <a-form-model-item label=\"标题\" ref=\"title\" prop=\"title\">\r\n        <a-input v-model=\"form.title\" @blur=\"() => {$refs.title.onFieldBlur()}\" />\r\n      </a-form-model-item>\r\n\r\n      <a-form-model-item label=\"分类\" ref=\"categories\" prop=\"categories\" :wrapper-col=\"{ span: 6}\">\r\n        <a-select v-model=\"form.categories\" @blur=\"() => {$refs.categories.onFieldBlur()}\" mode=\"multiple\">\r\n          <a-select-option v-for=\"(item) in categories\" :key=\"item._id\" :value=\"item._id\">{{item.name}}</a-select-option>\r\n        </a-select>\r\n      </a-form-model-item>\r\n\r\n      <a-form-model-item label=\"简介\" ref=\"abstract\" prop=\"abstract\">\r\n        <a-textarea v-model=\"form.abstract\" placeholder=\"简介\" :rows=\"4\" />\r\n      </a-form-model-item>\r\n\r\n      <a-form-model-item label=\"内容\" ref=\"content\" prop=\"content\">\r\n        <!-- 这里先不做Markdown编辑器内容 -->\r\n        <!-- <a-tabs @change=\"handleChange\">\r\n          <a-tab-pane key=\"1\" tab=\"富文本编辑器\">\r\n            <quill-editor\r\n              v-if=\"activeKey === '1'\"\r\n              :options=\"{\r\n                placeholder: '开始编辑......'\r\n              }\"\r\n              v-model=\"form.content\"\r\n            ></quill-editor>\r\n          </a-tab-pane>\r\n          <a-tab-pane key=\"2\" tab=\"Markdown编辑器\">\r\n            <editor\r\n              v-if=\"activeKey === '2'\" \r\n              v-model=\"form.content\"\r\n            />\r\n          </a-tab-pane>\r\n        </a-tabs>-->\r\n        <quill-editor\r\n          :options=\"{\r\n              placeholder: '开始编辑......'\r\n            }\"\r\n          v-model=\"form.content\"\r\n        ></quill-editor>\r\n      </a-form-model-item>\r\n\r\n      <a-form-model-item :wrapper-col=\"{ span: 12, offset: 3}\">\r\n        <a-button type=\"primary\" @click=\"onSubmit\">提交</a-button>\r\n      </a-form-model-item>\r\n    </a-form-model>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addArticle } from \"network/article.js\";\r\nimport { Categories } from \"network/category.js\";\r\n\r\n// // Markdown编辑器\r\n// import 'codemirror/lib/codemirror.css';\r\n// import '@toast-ui/editor/dist/toastui-editor.css';\r\n\r\n// import { Editor } from '@toast-ui/vue-editor';\r\n\r\n// 富文本编辑器\r\nimport \"quill/dist/quill.core.css\";\r\nimport \"quill/dist/quill.snow.css\";\r\nimport \"quill/dist/quill.bubble.css\";\r\n\r\nimport { quillEditor } from \"vue-quill-editor\";\r\n\r\nexport default {\r\n  created() {\r\n    this.requestData()\r\n  },\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      form: {\r\n        title: \"\",\r\n        content: \"\",\r\n        abstract: \"\",\r\n        categories: []\r\n      },\r\n      rules: {\r\n        title: [{ required: true, message: \"标题不能为空\", trigger: \"blur\" }],\r\n        categories: [{required: true, message: \"分类不能为空\", trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit(e) {\r\n      e.preventDefault();\r\n      this.$refs.Form.validate(valid => {\r\n        if (valid) {\r\n          let values = {\r\n            title: this.form.title,\r\n            categories: this.form.categories,\r\n            content: this.form.content,\r\n            abstract: this.form.abstract\r\n          };\r\n\r\n          if (values.abstract === ''){\r\n            values.abstract = values.title\r\n          }\r\n\r\n          console.log(\"Received values of form: \", values);\r\n          addArticle(values).then(res => {\r\n            this.$notification.success({\r\n              message: \"成功！\",\r\n              description: \"成功新建文章\",\r\n              duration: 2\r\n            });\r\n            console.log(res);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    requestData(){\r\n      Categories().then((res) => {\r\n        this.categories = res\r\n      })\r\n    }\r\n    // handleChange(key){\r\n    //   this.activeKey = key\r\n    // }\r\n  },\r\n  components: {\r\n    quillEditor\r\n    // editor: Editor\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddArticle.vue?vue&type=template&id=71394658&scoped=true&\"\nimport script from \"./AddArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./AddArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddArticle.vue?vue&type=style&index=0&id=71394658&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71394658\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=style&index=0&id=71394658&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=style&index=0&id=71394658&scoped=true&lang=css&\""],"sourceRoot":""}