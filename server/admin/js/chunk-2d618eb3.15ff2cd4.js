(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d618eb3"],{"0ecf":function(e,t,a){"use strict";var r=a("2438"),n=a.n(r);n.a},2438:function(e,t,a){},"4ed6":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i}));var r=a("1bab");function n(e){return Object(r["a"])({url:"adminUser/add",method:"post",data:e})}function s(){return Object(r["a"])({url:"adminUsers",method:"post"})}function o(e,t){return Object(r["a"])({url:"adminUser/".concat(e),data:t,method:"put"})}function i(e){return Object(r["a"])({url:"adminUser/".concat(e),method:"delete"})}},ff1b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("新建管理员")]),a("a-form",{attrs:{form:e.form,"label-col":{span:3},"wrapper-col":{span:6}},on:{submit:e.handleSubmit}},[a("a-form-item",{ref:"username",attrs:{label:"用户名","has-feedback":""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入用户名"},{validator:e.isUnique,message:"已有同名用户，请更换用户名"}]}],expression:"['username', { \n          rules: [\n            { required: true, message: '请输入用户名' },\n            { validator: isUnique, message: '已有同名用户，请更换用户名'}\n          ] \n        }]"}],attrs:{"allow-clear":""}})],1),a("a-form-item",{attrs:{label:"密码","has-feedback":""}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"},{pattern:/^[0-9a-zA-Z]+$/,message:"只能包含数字和英文大小写字母"},{min:6,max:10,message:"密码长度应为6-10位"}]}],expression:"['password', { \n          rules: [\n            { required: true, message: '请输入密码' },\n            { pattern: /^[0-9a-zA-Z]+$/, message: '只能包含数字和英文大小写字母'},\n            { min: 6, max: 10, message:'密码长度应为6-10位' }\n          ] \n        }]"}],attrs:{"allow-clear":""}})],1),a("a-form-item",{attrs:{label:"用户类型"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{initialValue:1}],expression:"['type', {initialValue: 1}]"}],staticStyle:{width:"120px"}},[a("a-select-option",{attrs:{value:1}},[e._v("普通管理员")]),a("a-select-option",{attrs:{value:2}},[e._v("超级管理员")])],1)],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:3}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)},n=[],s=a("b85c"),o=a("4ed6"),i={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||(console.log("Received values of form: ",a),Object(o["d"])(a).then((function(e){e&&(t.form.setFieldsValue({username:""}),t.$notification.success({message:"成功！",description:"成功添加新管理员",duration:2})),console.log(e)})))}))},isUnique:function(e,t,a){console.log(t),Object(o["a"])().then((function(e){var r,n=Object(s["a"])(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.username===t)return void a("已有同名用户，请更换用户名")}}catch(i){n.e(i)}finally{n.f()}a()}))}}},u=i,c=(a("0ecf"),a("2877")),l=Object(c["a"])(u,r,n,!1,null,"3fb1a432",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d618eb3.15ff2cd4.js.map