{"version":3,"sources":["webpack:///./src/views/users/AddUser.vue?610b","webpack:///./src/network/adminUser.js","webpack:///./src/views/users/AddUser.vue?d0ee","webpack:///src/views/users/AddUser.vue","webpack:///./src/views/users/AddUser.vue?80a9","webpack:///./src/views/users/AddUser.vue"],"names":["addAdminUser","data","request","url","method","AdminUsers","UpdateAdminUser","id","DeleteAdminUser","render","_vm","this","_h","$createElement","_c","_self","_v","attrs","form","span","on","handleSubmit","ref","directives","name","rawName","value","rules","required","message","validator","isUnique","expression","pattern","min","max","initialValue","staticStyle","offset","staticRenderFns","formLayout","$form","createForm","methods","e","preventDefault","validateFields","err","console","log","values","res","username","description","duration","callback","component"],"mappings":"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","file":"js/chunk-2d618eb3.15ff2cd4.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUser.vue?vue&type=style&index=0&id=3fb1a432&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUser.vue?vue&type=style&index=0&id=3fb1a432&scoped=true&lang=css&\"","import request from './request'\r\n\r\nexport function addAdminUser(data){\r\n  return request({\r\n    url: 'adminUser/add',\r\n    method: 'post',\r\n    data: data\r\n  })  \r\n}\r\n\r\nexport function AdminUsers(){\r\n  return request({\r\n    url: 'adminUsers',\r\n    method: \"post\"\r\n  })\r\n}\r\n\r\n// 获取单条数据\r\nexport function GetAdminUser(id){\r\n  return request({\r\n    url: `adminUser/${id}`,\r\n    method: \"get\"\r\n  })\r\n}\r\n\r\nexport function UpdateAdminUser(id, data){\r\n  return request({\r\n    url: `adminUser/${id}`,\r\n    data: data,\r\n    method: \"put\"\r\n  })\r\n}\r\n\r\nexport function DeleteAdminUser(id){\r\n  return request({\r\n    url: `adminUser/${id}`,\r\n    method: \"delete\"\r\n  })\r\n} \r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"新建管理员\")]),_c('a-form',{attrs:{\"form\":_vm.form,\"label-col\":{span: 3},\"wrapper-col\":{ span: 6 }},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{ref:\"username\",attrs:{\"label\":\"用户名\",\"has-feedback\":\"\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['username', { \n          rules: [\n            { required: true, message: '请输入用户名' },\n            { validator: _vm.isUnique, message: '已有同名用户，请更换用户名'}\n          ] \n        }]),expression:\"['username', { \\n          rules: [\\n            { required: true, message: '请输入用户名' },\\n            { validator: isUnique, message: '已有同名用户，请更换用户名'}\\n          ] \\n        }]\"}],attrs:{\"allow-clear\":\"\"}})],1),_c('a-form-item',{attrs:{\"label\":\"密码\",\"has-feedback\":\"\"}},[_c('a-input-password',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['password', { \n          rules: [\n            { required: true, message: '请输入密码' },\n            { pattern: /^[0-9a-zA-Z]+$/, message: '只能包含数字和英文大小写字母'},\n            { min: 6, max: 10, message:'密码长度应为6-10位' }\n          ] \n        }]),expression:\"['password', { \\n          rules: [\\n            { required: true, message: '请输入密码' },\\n            { pattern: /^[0-9a-zA-Z]+$/, message: '只能包含数字和英文大小写字母'},\\n            { min: 6, max: 10, message:'密码长度应为6-10位' }\\n          ] \\n        }]\"}],attrs:{\"allow-clear\":\"\"}})],1),_c('a-form-item',{attrs:{\"label\":\"用户类型\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['type', {initialValue: 1}]),expression:\"['type', {initialValue: 1}]\"}],staticStyle:{\"width\":\"120px\"}},[_c('a-select-option',{attrs:{\"value\":1}},[_vm._v(\"普通管理员\")]),_c('a-select-option',{attrs:{\"value\":2}},[_vm._v(\"超级管理员\")])],1)],1),_c('a-form-item',{attrs:{\"wrapper-col\":{ span: 12, offset: 3}}},[_c('a-button',{attrs:{\"type\":\"primary\",\"html-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>新建管理员</h1>\r\n\r\n    <a-form :form=\"form\" :label-col=\"{span: 3}\" :wrapper-col=\"{ span: 6 }\" @submit=\"handleSubmit\">\r\n      <a-form-item label=\"用户名\" ref=\"username\" has-feedback>\r\n        <a-input\r\n          allow-clear\r\n          v-decorator=\"['username', { \r\n            rules: [\r\n              { required: true, message: '请输入用户名' },\r\n              { validator: isUnique, message: '已有同名用户，请更换用户名'}\r\n            ] \r\n          }]\"\r\n        />\r\n      </a-form-item>\r\n      <a-form-item label=\"密码\" has-feedback>\r\n        <a-input-password\r\n          allow-clear\r\n          v-decorator=\"['password', { \r\n            rules: [\r\n              { required: true, message: '请输入密码' },\r\n              { pattern: /^[0-9a-zA-Z]+$/, message: '只能包含数字和英文大小写字母'},\r\n              { min: 6, max: 10, message:'密码长度应为6-10位' }\r\n            ] \r\n          }]\"\r\n        />\r\n      </a-form-item>\r\n      <a-form-item label=\"用户类型\">\r\n        <a-select v-decorator=\"['type', {initialValue: 1}]\" style=\"width:120px\">\r\n          <a-select-option :value=\"1\">普通管理员</a-select-option>\r\n          <a-select-option :value=\"2\">超级管理员</a-select-option>\r\n        </a-select>\r\n      </a-form-item>\r\n      <a-form-item :wrapper-col=\"{ span: 12, offset: 3}\">\r\n        <a-button type=\"primary\" html-type=\"submit\">提交</a-button>\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addAdminUser, AdminUsers } from \"network/adminUser.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formLayout: \"horizontal\",\r\n      form: this.$form.createForm(this),\r\n    };\r\n  },\r\n  methods: {\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          console.log(\"Received values of form: \", values);\r\n          addAdminUser(values).then(res => {\r\n            if (res) {\r\n              this.form.setFieldsValue({\r\n                username: ''\r\n              })\r\n              this.$notification.success({\r\n                message: \"成功！\",\r\n                description: \"成功添加新管理员\",\r\n                duration: 2\r\n              });\r\n            }\r\n            console.log(res);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    isUnique(rule, value, callback) {\r\n      console.log(value);\r\n      AdminUsers().then(res => {\r\n        for (const item of res) {\r\n          if (item.username === value) {\r\n            callback(\"已有同名用户，请更换用户名\");\r\n            return;\r\n          }\r\n        }\r\n        callback();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddUser.vue?vue&type=template&id=3fb1a432&scoped=true&\"\nimport script from \"./AddUser.vue?vue&type=script&lang=js&\"\nexport * from \"./AddUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddUser.vue?vue&type=style&index=0&id=3fb1a432&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fb1a432\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}